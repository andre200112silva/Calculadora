<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <script src="calc.js"></script>
</head>
<body>
    <div>
        <table style="cursor: pointer;">
            <p id="result">0</p>
            <p id="rfe">Calculo: </p>
            <tr>
                <td onclick="reset()">C</td>
                <td onclick="apagar()">&#x2B05</td>
                <td class="num">x</td>
                <td class="num">/</td>
            </tr>
            <tr>
                <td class="num">9</td>
                <td class="num">8</td>
                <td class="num">7</td>
                <td class="num">+</td>
            </tr>
            <tr>
                <td class="num">6</td>
                <td class="num">5</td>
                <td class="num">4</td>
                <td class="num">-</td>
            </tr> 
            <tr>
                <td class="num">3</td>
                <td class="num">2</td>
                <td class="num">1</td>
                <td rowspan="2" onclick="calcular()">=</td>
            </tr>
            <tr>
                <td class="num" colspan="3">0</td>
            </tr>
        </table>     
    </div>
    <script>
        var firstClick = 0;
        var type = ''
        var vetor = []
        var vetor2 = []
        var count = 0
        var resultado = 0
        var count2 = 0
        $(".num").click(function (e) {
            
            if (firstClick != 0) {
                if (count == 0) {
                    if (count2 == 0){
                        vetor.push(e.target.innerHTML)
                        if (e.target.innerHTML == '+' || e.target.innerHTML == '/' || e.target.innerHTML == 'x' || e.target.innerHTML == '-') {
                            count += 1;
                            type = e.target.innerHTML
                            document.getElementById("result").innerHTML = vetor.join('')
                        } else {
                            document.getElementById("result").innerHTML = vetor.join('')
                        }
                    } else {
                        if (e.target.innerHTML == '+' || e.target.innerHTML == '/' || e.target.innerHTML == 'x' || e.target.innerHTML == '-') {
                            vetor.push(e.target.innerHTML)
                            count += 1;
                            type = e.target.innerHTML
                            document.getElementById("result").innerHTML = vetor.join('')
                        } 
                    }
                } else {
                    
                    if (e.target.innerHTML == '+' || e.target.innerHTML == '/' || e.target.innerHTML == 'x' || e.target.innerHTML == '-') {
                        if (vetor2.length > 0) {
                            calcular()
                        }
                    } else {
                        vetor2.push(e.target.innerHTML)
                        document.getElementById("result").innerHTML = vetor.join('') + vetor2.join('')
                        
                    }
                }

            } else {
                if (e.target.innerHTML != '+' && e.target.innerHTML != '/' && e.target.innerHTML != 'x' && e.target.innerHTML != '-' ) {
                    vetor.push(e.target.innerHTML)
                    document.getElementById('result').innerHTML = vetor.join('')
                    firstClick += 1;
                } 
                
            } 
        })
    </script>
</body>
</html>